##编译环境要求
* Linux
* g++
* automake
* autoconf
* libtool
* make
* SDL2 ~~（目前还没实现绘图，所以暂时没有也没关系）~~
* SDL2_ttf
* SDL2_image
* boost

在大多数发行版上应该都能在软件包管理器里找到，比如Ubuntu的apt-get。
理论上可以在Windows、MacOS上编译，但是需要进行一些调整。暂时只支持Linux。

##编译过程
在项目文件夹下执行：
```
mkdir m4
autoreconf -fi
./configure
make V=0
```
暂时不考虑安装的问题。

##运行
在项目文件夹下执行：
```
./main test.slide 840x480
或
./main test.slide 0x0
```
两个参数分别是要读取的文件名和窗口大小。`0x0`代表全屏。
用上面的方式运行，程序会读取`test.slide`文件，然后在窗口里显示图形和文字。可以编辑`test.slide`来使用自己系统中的图片和字体。具体请看“脚本文件格式”。
按任意健会切换到下一条指令。

##脚本文件格式
脚本文件指的是`*.slide`文件。文件中每一行用空格或Tab分割成若干个域，每行第一个域是命令，后面的所有域是它的参数。域可以用英文双引号（"）限定，所以当字体或图片文件路径里有空格的时候，需要用引号包围。

目前支持的命令：
* `newpage`
* `endpage`目前没有使用，计划通过这个支持slide结束时的自动切换延迟。
* `font {ttf file path}`指定接下来使用的字体文件。
* `fontsize {number}`指定字体大小。如果不指定，默认是0，所以文字可能无法显示。
* `fg {r} {g} {b} {a}`指定接下来使用的前景颜色。
* `bg {r} {g} {b} {a}`指定接下来使用的背景颜色。
* `rect {x} {y} {w} {h}`绘制矩形，填充颜色是之前指定的前景色。x、y、w、h分别是位置和大小。
* `img {x} {y} {image file path}`显示图片，x和y是图片左上角的位置。
* `text {x} {y} {text}`显示文字，x和y是文字区域左上角的位置。
* `point [rel] {x} {y}`定义一个点。这个点不会绘制，只是供其他指令参考，详见下面的说明。`rel`是可选的，如果有`rel`，那么后面的坐标是以屏幕中心为原点，而不是默认的屏幕左上角。注意：`rel`并不会改变坐标轴方向，只是平移而已。

此外，所有的坐标参数都可以引用其他指令的位置，并映射到当前指令的五个不同坐标。引用的方式是使用为之前指令定义的id。
比如，脚本文件里之前的某条语句在任意位置有附加的参数"id=center"，那么后面的语句就可以通过"x:center"来引用前者的左上角X坐标。如果写"X:center"（大写X），那么就是被引用指令的右下角坐标。此外，如果是"x1:center"，那么将坐标替换为当前指令的左上角X坐标，如果是"x2:center"就是右上角，3、4、5分别是左下角、右下角和中央。

举例来说，对于以下语句：
```
point rel 0 0 id=center
text x5:center y5:center "hello"
```
Text将会显示在窗口的正中央，也就是将id为"center"的指令的（左上角）坐标带入到text的中央坐标（x5和y5）。

##已知问题
如果使用awesome窗口管理器，可能无法显示黑色窗口，而是显示一个无响应的透明窗口。目前的运行方法是切换到twm，或者在Xephyr里运行twm。
